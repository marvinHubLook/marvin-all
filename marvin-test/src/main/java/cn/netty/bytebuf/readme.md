ByteBuf
#### 分为三类
* Heap 和 Direct 
   * Heap 堆内存 (一般是byte[])
   * Direct 堆外内存 (java api ByteBuffer )
* Pooled 和 非Pooled
   * Pooled 池化分配 (缓存)
   * 非Pooled 非池化分配 （直接分配）
* Unsafe 和 非Unsafe
   * Unsafe 内存方式 (自动判断是否支持unsafe)
   * 非Unsafe 数组方式
  
####  mmap内存映射

mmap是一种内存映射文件的方法，可以将一个文件或者其它对象映射到进程的虚拟地址空间，实现文件磁盘地址和进程虚拟地址空间中某一段地址的一一对映，这样应用程序就可以通过访问进程虚拟内存地地址直接访问到文件或对象。

mmap在操作文件时，首先为用户进程创建新的虚拟内存区域，之后建立文件磁盘地址和虚拟内存相关区域的映射，这期间没有涉及任何的文件拷贝。当进程访问数据时发现内存中并无数据而发起的缺页异常处理，根据已经建立好的映射关系进行一次数据拷贝，将磁盘中的文件数据读取到虚拟地址对应的内存中，供进程使用。

综上所述，常规的文件操作需要通过两次数据拷贝才能从磁盘读取到用户空间所在的内存，而使用mmap操作文件，只需要从磁盘到内存的一次数据拷贝过程。mmap的关键点是实现了用户空间和内核空间的映射，并在此基础上直接进行数据交互，避免了空间不同数据不通的繁琐过程。